# Dockerfile.dev - Mode d√©veloppement pour le frontend
FROM node:18-alpine

# Installer git pour certaines d√©pendances
RUN apk add --no-cache git curl

WORKDIR /app

# Copier package.json pour installer les d√©pendances
COPY package*.json ./

# Installer toutes les d√©pendances
RUN npm install

# Le code sera mont√© via volume, pas copi√©
# Exposer le port Vite
EXPOSE 5173

# Variables d'environnement pour le d√©veloppement
ENV NODE_ENV=development

# Script de d√©marrage Vite avec hot reload
CMD ["sh", "-c", "\
  echo 'üöÄ D√©marrage du frontend en mode d√©veloppement...' && \
  echo '‚ö° Hot reload activ√© sur le port 5173' && \
  npm run dev -- --host 0.0.0.0 --port 5173 \
"]
